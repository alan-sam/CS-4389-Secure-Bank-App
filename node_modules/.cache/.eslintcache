[{"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\index.js":"1","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\App.js":"2","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\reportWebVitals.js":"3","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash.js":"4","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\components\\Login.js":"5","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\components\\Signin.js":"6","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash-function\\account.js":"7","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\api.js":"8","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash-function\\transfer.js":"9","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash-function\\transactions.js":"10","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash-function\\Contact.js":"11","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\EmailAuthToken.js":"12"},{"size":510,"mtime":1698555776346,"results":"13","hashOfConfig":"14"},{"size":1147,"mtime":1699569539880,"results":"15","hashOfConfig":"14"},{"size":375,"mtime":1698555776347,"results":"16","hashOfConfig":"14"},{"size":9553,"mtime":1699590522210,"results":"17","hashOfConfig":"14"},{"size":4549,"mtime":1699595412948,"results":"18","hashOfConfig":"14"},{"size":2785,"mtime":1699598522034,"results":"19","hashOfConfig":"14"},{"size":2653,"mtime":1699325855142,"results":"20","hashOfConfig":"14"},{"size":465,"mtime":1698890913662,"results":"21","hashOfConfig":"14"},{"size":122,"mtime":1699598357445,"results":"22","hashOfConfig":"14"},{"size":251,"mtime":1699040081209,"results":"23","hashOfConfig":"14"},{"size":923,"mtime":1699590633365,"results":"24","hashOfConfig":"14"},{"size":2243,"mtime":1699598452130,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"1adp9l7",{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\index.js",[],[],["67"],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\App.js",[],[],["68"],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\reportWebVitals.js",[],[],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash.js",["69","70","71"],[],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\components\\Login.js",["72"],[],"import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Button, TextField, Container, Typography, Box } from '@mui/material';\r\nimport '../App.css';\r\nimport logo from '../UTD.png';\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const [email, setemail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n  const [sessionTimeout, setSessionTimeout] = useState(null);\r\n\r\n\r\n  function sendLoginRequest() {\r\n    setErrorMsg(\"\");\r\n    const reqBody = {\r\n      email: email,\r\n      password: password,\r\n    };\r\n  \r\n    fetch(\"http://localhost:9000/bankingApp/login\", { // Update this URL based on your Spring Boot route\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method: 'POST',\r\n      body: JSON.stringify(reqBody),\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json(); // Assuming server responds with JSON\r\n        console.log('Response Status:', response.status);\r\n        console.log('Login Data:', data);\r\n  \r\n        if (response.status === 200) {\r\n          if(data === true) {\r\n            navigate(`/auth?email=${email}`); // Update to navigate to the dashboard or appropriate route\r\n            startSessionTimer();\r\n          } else {\r\n            setErrorMsg(\"Invalid username or password\");\r\n          }\r\n        } else {\r\n          setErrorMsg(\"Something went wrong, try again later.\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Login Error:', error);\r\n        setErrorMsg(\"An error occurred during login.\");\r\n      });\r\n\r\n      const startSessionTimer = () => {\r\n        // Clear any existing timers\r\n        if (sessionTimeout) clearTimeout(sessionTimeout);\r\n    \r\n        // Set a new timer\r\n        const timeout = setTimeout(() => {\r\n          showLogoutWarning();\r\n        }, 10 * 60000); // 5 minute in milliseconds\r\n    \r\n        // Save the timeout to state so we can clear it if needed\r\n        setSessionTimeout(timeout);\r\n    };\r\n    const showLogoutWarning = () => {\r\n      let userHasResponded = false;\r\n      setTimeout(() => {\r\n          if (!userHasResponded) {\r\n              // If the user hasn't responded in 5 seconds, log them out\r\n              navigate(\"/\");\r\n          }\r\n      }, 5000); // Auto logout after 5 seconds if no response\r\n  \r\n      const userConfirmed = window.confirm(\"You will be logged out due to inactivity. Do you want to stay logged in?\");\r\n      userHasResponded = true;\r\n  \r\n      if (userConfirmed) {\r\n          // If the user wants to stay logged in, reset the session timer\r\n          startSessionTimer();\r\n      } else {\r\n          // If the user chose to log out, navigate to the login page\r\n          navigate(\"/\");\r\n      }\r\n  };\r\n  \r\n  \r\n  \r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <div className=\"login-form\">\r\n          <form noValidate>\r\n          <Box sx={{ textAlign: 'center', mb: 2 }}>\r\n              <img src={logo} alt=\"Logo\" width=\"72\" />\r\n          </Box>\r\n            <Typography component=\"h1\" variant=\"h5\" color={'#f57c00'}>\r\n              Login\r\n            </Typography>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email\"\r\n              name=\"email\"\r\n              placeholder='Enter your email'\r\n              value={email}\r\n              onChange={(e) => setemail(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              placeholder='Enter your password'\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <Button type=\"button\" variant=\"contained\" color=\"warning\" onClick={sendLoginRequest}>\r\n              Login\r\n            </Button>\r\n          </form>\r\n          <Box className=\"login-link\">\r\n            <p>\r\n              Don't have an account? <Link to=\"/signin\">Sign Up</Link>\r\n            </p>\r\n          </Box>\r\n            <Link to=\"/dashboard\">Dashboard</Link>\r\n         \r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\components\\Signin.js",[],[],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash-function\\account.js",[],[],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\api.js",[],[],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash-function\\transfer.js",[],[],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash-function\\transactions.js",["73","74"],[],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\dashboard\\dash-function\\Contact.js",["75","76","77","78","79","80","81","82"],[],"import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { AppBar, Toolbar, Drawer, Button, Box, Typography, CssBaseline } from '@mui/material';\r\n\r\nconst Contact = props => {\r\n  return (\r\n<div>\r\n    <Box\r\n    sx={{ \r\n      margin: '10rem', \r\n      padding: '1.5rem', \r\n      border: '5px solid #e0e0e0', \r\n      borderRadius: '5px',\r\n      backgroundColor: '#f57c00',\r\n      height: '30rem',\r\n      width: '50rem'\r\n    }}\r\n  >\r\n    <Typography variant=\"h6\" gutterBottom>\r\n    Contact Page\r\n    </Typography>\r\n    <Typography variant=\"body1\" gutterBottom>\r\n      Phone Number: 222-222-2222\r\n    </Typography>\r\n    <Typography variant=\"body1\" gutterBottom>\r\n      Email: CometBank@gmail.com\r\n    </Typography>\r\n    <Typography variant=\"body1\" gutterBottom>\r\n      254 Washington Street, Washington.\r\n    </Typography>\r\n  </Box>\r\n  \r\n</div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n",["83"],"C:\\Users\\alans\\OneDrive\\Desktop\\CS-4389-Secure-Bank-App1\\src\\EmailAuthToken.js",[],[],{"ruleId":"84","replacedBy":"85"},{"ruleId":"84","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":3,"column":10,"nodeType":"89","messageId":"90","endLine":3,"endColumn":16},{"ruleId":"87","severity":1,"message":"91","line":20,"column":9,"nodeType":"89","messageId":"90","endLine":20,"endColumn":22},{"ruleId":"92","severity":1,"message":"93","line":78,"column":13,"nodeType":"94","messageId":"95","endLine":78,"endColumn":18},{"ruleId":"87","severity":1,"message":"96","line":12,"column":10,"nodeType":"89","messageId":"90","endLine":12,"endColumn":18},{"ruleId":"87","severity":1,"message":"97","line":1,"column":17,"nodeType":"89","messageId":"90","endLine":1,"endColumn":25},{"ruleId":"87","severity":1,"message":"98","line":2,"column":10,"nodeType":"89","messageId":"90","endLine":2,"endColumn":14},{"ruleId":"87","severity":1,"message":"97","line":1,"column":17,"nodeType":"89","messageId":"90","endLine":1,"endColumn":25},{"ruleId":"87","severity":1,"message":"98","line":2,"column":10,"nodeType":"89","messageId":"90","endLine":2,"endColumn":14},{"ruleId":"87","severity":1,"message":"99","line":2,"column":16,"nodeType":"89","messageId":"90","endLine":2,"endColumn":27},{"ruleId":"87","severity":1,"message":"88","line":3,"column":10,"nodeType":"89","messageId":"90","endLine":3,"endColumn":16},{"ruleId":"87","severity":1,"message":"100","line":3,"column":18,"nodeType":"89","messageId":"90","endLine":3,"endColumn":25},{"ruleId":"87","severity":1,"message":"101","line":3,"column":27,"nodeType":"89","messageId":"90","endLine":3,"endColumn":33},{"ruleId":"87","severity":1,"message":"102","line":3,"column":35,"nodeType":"89","messageId":"90","endLine":3,"endColumn":41},{"ruleId":"87","severity":1,"message":"103","line":3,"column":60,"nodeType":"89","messageId":"90","endLine":3,"endColumn":71},{"ruleId":"84","replacedBy":"104"},"no-new-object",["105"],["105"],"no-unused-vars","'AppBar' is defined but never used.","Identifier","unusedVar","'currentAmount' is assigned a value but never used.","no-dupe-keys","Duplicate key 'width'.","ObjectExpression","unexpected","'errorMsg' is assigned a value but never used.","'useState' is defined but never used.","'Link' is defined but never used.","'useNavigate' is defined but never used.","'Toolbar' is defined but never used.","'Drawer' is defined but never used.","'Button' is defined but never used.","'CssBaseline' is defined but never used.",["105"],"no-object-constructor"]